const ChatApp=()=>{const{useState:e,useRef:t,useEffect:n}=React,[s,a]=e([]),[o,r]=e(""),[i,l]=e(!1),[c,d]=e(!1),u=t(null),[m,p]=e(!1),h=()=>{u.current?.scrollIntoView({behavior:"smooth"})};n(()=>{h()},[s]),n(()=>{const g=()=>{const f=window.scrollY;p(f>100)};return window.addEventListener("scroll",g),()=>window.removeEventListener("scroll",g)},[]);const w=async v=>{if(!v.trim())return;a(f=>[...f,{text:v,isUser:!0}]),r(""),d(!0);try{const f=await(async k=>{try{const $=await fetch("https://primary-production-9c62.up.railway.app/webhook/1bbe67ac-2c95-47ee-be86-443fb9f3ab20",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:k})});if(!$.ok)throw Error("Webhook response was not ok");const x=await $.json();return x.output}catch(b){return console.error("Error fetching webhook response:",b),"# Respuesta de la IA \n *Nombre:* Lote x"}})(v);a(k=>[...k,{text:f,isUser:!1}])}catch(y){console.error("Error handling message:",y),a(f=>[...f,{text:"# Respuesta de la IA \n *Nombre:* Lote x",isUser:!1}])}finally{d(!1)}};return React.createElement(React.Fragment,null,React.createElement("div",{className:`fixed inset-0 transition-all duration-300 ${i?"blur-md":""}`},React.createElement("div",{className:"min-h-screen bg-cover bg-center bg-no-repeat"},React.createElement("div",{className:"absolute inset-0 bg-black/50"}),React.createElement("div",{className:"relative container mx-auto p-4"}))),React.createElement("div",{className:`transition-all duration-300 ${m?"fixed top-0 left-[50%] transform -translate-x-[50%] w-full max-w-[400px] z-50":"fixed top-20 left-[50%] transform -translate-x-[50%] w-full max-w-[400px]"} bg-gray-900/60 shadow-2xl rounded-xl overflow-hidden backdrop-blur-sm`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1)},React.createElement("div",{className:"p-2 border-b border-gray-800/60"},React.createElement("div",{className:"relative flex items-center"},React.createElement(Search,{className:"absolute left-3 text-gray-400 w-5 h-5"}),React.createElement("input",{type:"text",value:o,onChange:g=>r(g.target.value),onKeyDown:g=>g.key==="Enter"&&w(o),placeholder:"Describe el lote que deseas?",className:"w-full bg-[#141414]/80 text-white pl-10 pr-10 py-3 rounded-lg border border-white/20 focus:border-white/40 focus:outline-none focus:ring-0 placeholder-gray-500 cursor-default",disabled:c}),React.createElement("button",{onClick:()=>w(o),className:`absolute right-3 text-gray-400 hover:text-white transition-colors duration-200 ${c?"opacity-50 cursor-not-allowed":""}`,disabled:c},React.createElement(Send,{className:"w-5 h-5"})))),React.createElement("div",{className:`transition-all duration-300 ease-in-out ${i?"opacity-100 max-h-[500px]":"opacity-0 max-h-0 pointer-events-none"}`},s.length===0&&React.createElement("div",{className:"px-4 pb-4 flex gap-2 flex-wrap"},["Lotes eco?","Hotel cerca de mí?","Hoteles ecológicos para parejas"].map((g,f)=>React.createElement("button",{key:f,onClick:()=>w(g),className:"bg-gray-800/80 text-white px-4 py-2 rounded-full text-sm hover:bg-gray-700/80 transition-colors duration-200",disabled:c},g))),React.createElement("div",{className:"h-[400px] overflow-y-auto p-4 space-y-4"},s.map((g,f)=>React.createElement("div",{key:f,className:`flex ${g.isUser?"justify-end":"justify-start"}`},React.createElement("div",{className:`max-w-[80%] p-3 rounded-lg ${g.isUser?"bg-blue-600/90 text-white rounded-br-none":"bg-gray-700/90 text-white rounded-bl-none"}`},g.isUser?g.text:React.createElement(ReactMarkdown,{className:"prose prose-invert prose-sm max-w-none"},g.text)))),c&&React.createElement("div",{className:"flex justify-start"},React.createElement("div",{className:"bg-gray-700/90 text-white p-3 rounded-lg rounded-bl-none max-w-[80%]"},React.createElement("div",{className:"flex space-x-2"},React.createElement("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"0ms"}}),React.createElement("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"150ms"}}),React.createElement("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"300ms"}})))),React.createElement("div",{ref:u}))))};const rootElement=document.getElementById("ai-chat-root");rootElement&&ReactDOM.render(React.createElement(ChatApp),rootElement);
